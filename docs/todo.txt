TODO:

* transport

* allocation
* second slot
* optimisation of queue / transport code
